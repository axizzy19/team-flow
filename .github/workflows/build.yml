name: TeamFlow CI/CD Pipeline

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  check-files:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Check if required files exist
      run: |
        echo "Проверка наличия файлов..."
        if [ -f "README.md" ]; then
          echo "README.md найден"
        else
          echo "README.md не найден"
          exit 1
        fi
        
        if [ -f "feature.txt" ]; then
          echo "feature.txt найден"
          echo "Содержимое feature.txt:"
          cat feature.txt
        else
          echo "feature.txt не найден"
          exit 1
        fi
        
    - name: Show repository structure
      run: |
        echo "Структура репозитория:"
        ls -la
        
    - name: Count lines in files
      run: |
        echo "Статистика файлов:"
        wc -l *.txt *.md 2>/dev/null || echo "Нет .txt или .md файлов"
